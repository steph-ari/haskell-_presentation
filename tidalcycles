-- Foundation
d1 $ stack [
    sound "bd*4",        -- Bass Drum plays 4 times
    sound "snare*2",     -- Snare plays every second step
    sound "hh*8"         -- Hi-hats play 8 times
  ]
  # gain "0.8"          -- Reduces gain to avoid clipping
  # speed "1.1"         -- Speeds up the beat
  # delay 0.1           -- Adds delay

d1.silence              -- Stops d1 channel

-- Rave synth loop
d2 $ stack [
    sound "supermandolin*4"  -- Mandolin sound plays 4 times
    sound "arpy*2"            -- Arpeggiated synth plays every 2 steps
  ]
  # speed "1.3"            -- Speed up the synth
  # delay 0.15             -- Adds delay
  # gain "0.6"             -- Lowers the synth volume
  # room "0.5"             -- Adds room reverb
  # size "0.7"             -- Sets the size of the reverb

d2.silence                 -- Stops d2 channel

-- Percussion break
d3 $ stack [
    sound "snare2*4",    -- Snare2 plays 4 times
    sound "clap*2",      -- Clap sound every two steps
    sound "tom*4"        -- Tom drum plays every four steps
  ]
  # speed "1.0"         -- Same speed for consistency
  # pan (-1)            -- Fixed panning to left speaker
  # gain "0.8"          -- Reduce gain
  # delay 0.05          -- Adds delay

d3.silence              -- Stops d3 channel

-- Deep bassline
d4 $ stack [
    sound "subbass*4",   -- Sub bass sound plays 4 times
    sound "bd*2"         -- Bass Drum every two steps
  ]
  # n "0 2 4 5 7"       -- Use a sequence of pitches (root, major, minor)
  # speed "0.9"         -- Slowed down
  # gain "1.0"          -- Increase the volume of the bass

d4.silence              -- Stops d4 channel

-- Breakbeat pattern
d5 $ stack [
    sound "bd*8",        -- Bass Drum plays 8 times
    sound "snare*4",     -- Snare Drum every 4 steps
    sound "hh*2"         -- Hi-hats play 2 times
  ]
  # speed "1.0"         -- Same speed for consistency
  # gain "1.1"          -- Increase gain
  # delay 0.1           -- Adds delay

d5.silence              -- Stops d5 channel

-- High-pitched melodic sound
d6 $ stack [
    sound "glitch*4",    -- Glitchy sound every 4 steps
    sound "bass*8"       -- A bassline that plays 8 times
  ]
  # delay 0.15          -- Adds short delay
  # speed "1.0"         -- Same speed for consistency
  # pan (1)             -- Fixed panning to right speaker
  # gain "0.9"          -- Set a balanced gain level
  # room "0.5"          -- Apply room reverb
  # size "0.7"          -- Set the size of the reverb

d6.silence              --Stops d6 channel

hush                    -- Stops everything
